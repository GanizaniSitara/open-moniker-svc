# Demo Request Queue — Scenario Data
#
# Used by hydrate_queue.py to populate the review queue for demos.
# Edit this file to change the demo scenarios, then re-run the script.
#
# Each request needs at minimum: path, requester (name + email), justification.
# The "outcome" field controls what happens after submission:
#   pending   — left in review queue (default)
#   approved  — auto-approved by the reviewer
#   rejected  — rejected with a reason
#
# The "comments" list adds review thread entries before the outcome.

requests:

  # ── Pending requests (visible in queue for live demo) ──────────────

  - path: risk/stress/climate
    display_name: Climate Stress Scenarios
    description: Forward-looking climate risk stress test scenarios (NGFS aligned)
    justification: Regulatory requirement — ECB climate stress test submission due Q3
    requester:
      name: Priya Sharma
      email: priya.sharma@firm.com
      team: Risk Analytics
      app_id: stress-engine
    adop: michael.chen@firm.com
    adop_name: Michael Chen
    ads: risk-data-team@firm.com
    ads_name: Risk Data Team
    source_binding_type: snowflake
    source_binding_config:
      account: firm.eu-west-1
      warehouse: RISK_WH
      database: STRESS_SCENARIOS
      schema: CLIMATE
    tags: [stress-testing, climate, regulatory, NGFS]
    outcome: pending
    comments:
      - author: compliance@firm.com
        author_name: Compliance Team
        content: Please confirm this aligns with the NGFS Phase IV scenarios.
      - author: priya.sharma@firm.com
        author_name: Priya Sharma
        content: Confirmed — using NGFS Net Zero 2050 and Delayed Transition scenarios.

  - path: portfolios/attribution/fixed-income
    display_name: FI Performance Attribution
    description: Fixed income portfolio attribution by sector, duration bucket, and curve effect
    justification: PM desk needs daily attribution breakdowns for client reporting
    requester:
      name: James Wilson
      email: james.wilson@firm.com
      team: Portfolio Management
      app_id: pm-dashboard
    adop: sarah.brooks@firm.com
    adop_name: Sarah Brooks
    ads: quant-team@firm.com
    ads_name: Quant Analytics
    adal: james.wilson@firm.com
    adal_name: James Wilson
    source_binding_type: mssql
    source_binding_config:
      server: sqlprod-pm.firm.internal
      database: PortfolioAnalytics
      schema: Attribution
    tags: [attribution, fixed-income, portfolio-management]
    outcome: pending

  - path: prices/derivatives/swaptions
    display_name: Swaption Volatility Surface
    description: Swaption implied volatility surface (expiry x tenor) from Bloomberg
    justification: Rates desk needs vol surface for swaption pricing and risk
    requester:
      name: David Park
      email: david.park@firm.com
      team: Rates Trading
      app_id: rates-pricer
    adop: trading-head@firm.com
    adop_name: Elena Vasquez
    ads: market-data-ops@firm.com
    ads_name: Market Data Ops
    source_binding_type: bloomberg
    source_binding_config:
      fields: [PX_LAST, IMPLIED_VOL, DELTA]
      schedule: realtime
    tags: [swaptions, volatility, rates, derivatives]
    outcome: pending
    comments:
      - author: market-data-ops@firm.com
        author_name: Market Data Ops
        content: Bloomberg entitlement check passed. Realtime feed available on BPIPE.

  - path: reference/classifications/esg
    display_name: ESG Classification Scores
    description: MSCI ESG ratings and sub-scores mapped to internal security master
    justification: New regulatory requirement for SFDR Article 8 fund disclosures
    requester:
      name: Anna Kowalski
      email: anna.kowalski@firm.com
      team: Sustainable Investing
      app_id: esg-monitor
    adop: anna.kowalski@firm.com
    adop_name: Anna Kowalski
    ads: ref-data-team@firm.com
    ads_name: Reference Data Team
    source_binding_type: rest
    source_binding_config:
      base_url: https://api.msci-esg.example.com/v2
      auth: oauth2
      rate_limit: 1000/hour
    tags: [ESG, SFDR, classifications, regulatory]
    outcome: pending

  # ── Top-level domain request (elevated review) ─────────────────────

  - path: alternatives
    display_name: Alternative Investments
    description: Top-level domain for private equity, real estate, hedge fund, and infrastructure data
    justification: Firm expanding into alternatives — need dedicated namespace for PE/RE/HF data
    requester:
      name: Robert Zhang
      email: robert.zhang@firm.com
      team: Alternative Investments
      app_id: alts-platform
    adop: robert.zhang@firm.com
    adop_name: Robert Zhang
    tags: [alternatives, private-equity, real-estate, hedge-funds]
    outcome: pending
    comments:
      - author: governance@firm.com
        author_name: Data Governance
        content: Top-level domain request — scheduling governance committee review for Thursday.
      - author: robert.zhang@firm.com
        author_name: Robert Zhang
        content: Happy to present the namespace proposal at the committee meeting.

  # ── Approved requests (show completed workflow) ────────────────────

  - path: risk/cvar/commodity
    display_name: Commodity CVaR
    description: Conditional Value-at-Risk for commodity portfolios (95th and 99th percentile)
    justification: Commodity desk risk limits require daily CVaR calculations
    requester:
      name: Marcus Johnson
      email: marcus.johnson@firm.com
      team: Commodity Risk
      app_id: risk-dashboard
    adop: elena.vasquez@firm.com
    adop_name: Elena Vasquez
    ads: risk-data-team@firm.com
    ads_name: Risk Data Team
    source_binding_type: snowflake
    source_binding_config:
      account: firm.us-east-1
      warehouse: RISK_WH
      database: RISK_MODELS
      schema: CVAR
    tags: [risk, cvar, commodities]
    outcome: approved
    reviewer: senior.reviewer@firm.com
    reviewer_name: Senior Reviewer
    review_reason: Ownership verified. Risk data team confirmed Snowflake schema is provisioned.
    comments:
      - author: risk-data-team@firm.com
        author_name: Risk Data Team
        content: Snowflake schema RISK_MODELS.CVAR is provisioned and tested. Good to go.

  - path: rates/curves/ois
    display_name: OIS Discount Curves
    description: Overnight Index Swap discount curves (USD, EUR, GBP, JPY)
    justification: Required for derivatives valuation — moving from legacy system
    requester:
      name: Lisa Chen
      email: lisa.chen@firm.com
      team: Quantitative Analytics
      app_id: curve-engine
    adop: quant-head@firm.com
    adop_name: Dr. Thomas Wright
    ads: quant-team@firm.com
    ads_name: Quant Analytics
    source_binding_type: oracle
    source_binding_config:
      host: oraprod-quant.firm.internal
      service: CURVES
      schema: OIS_DISC
    tags: [rates, OIS, curves, derivatives]
    outcome: approved
    reviewer: quant-head@firm.com
    reviewer_name: Dr. Thomas Wright
    review_reason: Approved — critical for derivatives migration. Oracle schema validated.

  # ── Rejected request (show rejection flow) ─────────────────────────

  - path: portfolios/holdings/client-pii
    display_name: Client Holdings with PII
    description: Portfolio holdings enriched with client personal information
    justification: Client reporting team needs combined view
    requester:
      name: Kevin O'Brien
      email: kevin.obrien@firm.com
      team: Client Reporting
      app_id: client-reports
    adop: kevin.obrien@firm.com
    adop_name: Kevin O'Brien
    source_binding_type: mssql
    source_binding_config:
      server: sqlprod-clients.firm.internal
      database: ClientData
    tags: [holdings, client-data, PII]
    outcome: rejected
    reviewer: compliance@firm.com
    reviewer_name: Compliance Team
    review_reason: "Rejected: PII data cannot be co-located with holdings in a shared moniker. Please separate PII into a restricted-access moniker under a dedicated PII namespace with appropriate access controls."
    comments:
      - author: dpo@firm.com
        author_name: Data Protection Officer
        content: This would violate our data classification policy. PII must be in a separate restricted namespace.
      - author: compliance@firm.com
        author_name: Compliance Team
        content: Agreed with DPO. Please resubmit with PII removed, or request a restricted namespace first.

  - path: prices/equity/dark-pool
    display_name: Dark Pool Equity Prices
    description: Off-exchange dark pool execution prices
    justification: Algo trading desk wants consolidated dark pool price feed
    requester:
      name: Tom Harris
      email: tom.harris@firm.com
      team: Electronic Trading
      app_id: algo-engine
    adop: trading-head@firm.com
    adop_name: Elena Vasquez
    source_binding_type: rest
    source_binding_config:
      base_url: https://darkpool-feed.internal/v1
    tags: [dark-pool, equity, trading]
    outcome: rejected
    reviewer: market-data-ops@firm.com
    reviewer_name: Market Data Ops
    review_reason: "Dark pool pricing data is governed under MiFID II transparency rules. Requires legal review before onboarding. Please route through Legal/Compliance first."
    comments:
      - author: legal@firm.com
        author_name: Legal Team
        content: MiFID II Article 5 implications need assessment before we can host this data.
